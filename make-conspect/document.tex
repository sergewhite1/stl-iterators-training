\input{preamble.tex}

\begin{document}
Конспект по системе сборки \textbf{make}

\vspace{0.2cm}

Краткое неточное определение:

\textbf{make} - это система сборки проектов в ОС Linux

Более полное определение из Википедии:

\textbf{make} - утилита, автоматизирующая процесс преобразования файлов из одной формы в другую. Чаще всего это компиляция исходного кода в объектные файлы и последующая компоновка в исполняемые файлы или библиотеки.

\vspace{0.2cm}

Данный конспект рассматривает make применительно к сборке C/C++ проектов

Поэтому сперва рассмотрим сборку С/C++ проектов

\vspace{0.2cm}

\begin{tikzpicture}
	% типа рисование по клеточкам
%	\draw [help lines] (0, 0) grid (16, 12);

	\node (c_file_0) at ( 0, 11)  [shape=rectangle, draw, minimum width=2cm, minimum height=2cm]{.c};
	\node (c_file_1) at ( 0, 8)  [shape=rectangle, draw, minimum width=2cm, minimum height=2cm]{.c};
	\node (c_file_2) at ( 0, 5)  [shape=rectangle, draw, minimum width=2cm, minimum height=2cm]{.c};
	\node (preproc)  at ( 3, 8)  [shape=rectangle, draw, minimum width=2cm, minimum height=8cm, text width=1.7cm]{Preproc.\\\#include\\\#ifndef\\\#define\\...};
	\node (compiler) at ( 6, 8)  [shape=rectangle, draw, minimum width=2cm, minimum height=8cm]{Compiler};
	\node (o_file_0) at ( 9, 11)  [shape=rectangle, draw, minimum width=2cm, minimum height=2cm, text width=1cm]{.o\\(.obj)};
	\node (o_file_1) at ( 9, 8)  [shape=rectangle, draw, minimum width=2cm, minimum height=2cm, text width=1cm]{.o\\(.obj)};
	\node (o_file_2) at ( 9, 5)  [shape=rectangle, draw, minimum width=2cm, minimum height=2cm, text width=1cm]{.o\\(.obj)};
	\node (linker)   at (12, 8)  [shape=rectangle, draw, minimum width=2cm, minimum height=8cm]{Linker};
	\node (exe)      at (15, 8)  [shape=rectangle, draw, minimum width=2cm, minimum height=2cm, text width=1cm]{exe\\(.exe)};

	\draw[->] (c_file_0.east) -- ++(right:1);
	\draw[->] (c_file_1.east) -- ++(right:1);
	\draw[->] (c_file_2.east) -- ++(right:1);

	\draw[->] (4,11) -- (5,11);
	\draw[->] (4,8) -- (5,8);
	\draw[->] (4,5) -- (5,5);

	\draw[->] (7,11) -- (8,11);
	\draw[->] (7,8) -- (8,8);
	\draw[->] (7,5) -- (8,5);

	\draw[->] (10, 11) -- (11, 11);
	\draw[->] (10, 8) -- (11, 8);
	\draw[->] (10, 5) -- (11, 5);

	\draw[->] (13, 8) -- (14, 8);

	\node (or_1) at (15, 6.5) [shape=rectangle]{or};

	\node (static_lib) at (15, 5) [shape=rectangle,draw, minimum width=2cm, minimum height=2cm, text width=1cm]{.a\\(.lib)};

	\node (or_2) at (15, 3.5) [shape=rectangle]{or};

	\node (dynamic_lb) at (15, 2) [shape=rectangle,draw, minimum width=2cm, minimum height=2cm, text width=1cm]{.so\\(.dll)};

\end{tikzpicture}

Типы выходных файлов

\begin{tabular}{|l|l|l|}
	\hline
	\textbf{Тип выходного файла} & \textbf{Расширение в ОС Linux} & \textbf{Расширение в ОС Windows} \\
	\hline
	Исполняемый файл & без расширения & .exe (от executable) \\
	\hline
	Статическая библиотека & .a (от archive) & .lib (от library) \\
	\hline
	Динамическая библиотека & .so (от shared object) & .dll (от dynamic link library) \\
	\hline
\end{tabular}

\vspace{0.2cm}

Далее для справки приведены некоторые команды gcc.





\vspace{2cm}
=============================================

Далее идут черновоки по latex'у :)

% pgfmanual, page 142

\begin{tikzpicture}[fill=blue!20]
	\draw [help lines] (0, 0) grid (6, 3);
	\draw (0, 0) -- (6, 1);

\end{tikzpicture}


% pgfmanual, page 35

We are working on
\begin{tikzpicture}
	\draw (-1.5,0) -- (1.5,0);
	\draw (0,-1.5) -- (0,1.5);
	\draw (0, 0) circle [radius=1];
\end{tikzpicture}.

\begin{tikzpicture}
	\draw [help lines] (-2, -2) grid (2, 3);
	\path ( 0,2) node [shape=circle,draw] {}
	( 0,1) node [shape=circle,draw] {}
	( 0,0) node [shape=circle,draw] {}
	( 1,1) node [shape=rectangle,draw] {}
	(-1,1) node [shape=rectangle,draw] {};
\end{tikzpicture}

\begin{tikzpicture}
	\draw [help lines] (-2, -2) grid (2, 3);
	\node (A)  at ( 0,2) [shape=circle,draw] {A};
	\node (B) at ( 0,1) [shape=circle,draw] {B};
	\node (C) at ( 0,0) [shape=circle,draw] {C};
	\node (D) at ( 1,1) [shape=rectangle,draw] {D};
	\node (E) at (-1,1) [shape=rectangle,draw] {E};

	\draw[->] (E.east) -- (B.west);
\end{tikzpicture}

\end{document}}
